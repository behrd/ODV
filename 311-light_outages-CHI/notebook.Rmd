---
title: "Chicago Light Outtages"
output: html_notebook
author: "Davide Behr"
---



```{r, initial-setup}
library(plyr)
library(rgdal)
library(maptools)
library(ggplot2)

setwd("/Users/Dave/ODV/311-light_outages-CHI/Boundaries - Census Tracts - 2010")

# load shapefile of chicago census tracts
chi.shp = readOGR("geo_export_18596c0a-9532-4114-a5c0-408e8e252c19.shp")
chi.shp@data$id = rownames(chi.shp@data)
chi.shp.pts = fortify(chi.shp, region = "id")
chi.df = join(chi.shp.pts, chi.shp@data, by = "id")

ggplot(chi.df) +
  aes(long,lat,group=group) + 
  geom_polygon() +
  geom_path(color="white") +
  coord_equal() 
# read in lat/long from 311 data
f = "https://data.cityofchicago.org/api/views/zuxi-7xem/rows.csv"
data =  read.csv(f, header = T)
data = na.omit(data)

coordinates(data) = ~Latitude+Longitude

proj4string(data) <- proj4string(chi.shp)






```


```{r, plotting}
```